---
/**
 * Reusable Section Divider Component
 *
 * Creates decorative SVG dividers between sections with various styles.
 * Replaces duplicated SVG code across 7+ components.
 *
 * @param type - The divider style: 'wave', 'curve', 'steps', 'zigzag', 'tilt'
 * @param fillColor - The fill color for the SVG (default: #F8F0E3)
 * @param position - Position of divider: 'top' or 'bottom' (default: 'top')
 * @param gradient - Optional gradient ID to use instead of solid color
 */

interface Props {
	type?: 'wave' | 'curve' | 'steps' | 'zigzag' | 'tilt';
	fillColor?: string;
	position?: 'top' | 'bottom';
	gradient?: string;
}

const {
	type = 'wave',
	fillColor = '#F8F0E3',
	position = 'top',
	gradient
} = Astro.props;

// SVG path definitions for each divider type
const paths = {
	wave: `M0,40 C300,80 900,0 1200,40 L1200,0 L0,0 Z`,
	curve: `M0,80 Q600,0 1200,80 L1200,0 L0,0 Z`,
	steps: `M0,40 L300,40 L300,80 L600,80 L600,40 L900,40 L900,80 L1200,80 L1200,0 L0,0 Z`,
	zigzag: `M0,50 L200,20 L400,50 L600,20 L800,50 L1000,20 L1200,50 L1200,0 L0,0 Z`,
	tilt: `M0,80 L1200,0 L1200,0 L0,0 Z`
};

const pathData = paths[type];
const fill = gradient ? `url(#${gradient})` : fillColor;
---

<div class={`section-divider section-divider-${position}`}>
	<svg viewBox="0 0 1200 80" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
		{gradient === 'curveGradient' && (
			<defs>
				<linearGradient id="curveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
					<stop offset="0%" style="stop-color:#1a365d;stop-opacity:1" />
					<stop offset="50%" style="stop-color:#253c52;stop-opacity:1" />
					<stop offset="100%" style="stop-color:#2d3748;stop-opacity:1" />
				</linearGradient>
			</defs>
		)}
		<path d={pathData} fill={fill}></path>
	</svg>
</div>

<style>
	.section-divider {
		position: absolute;
		left: 50%;
		transform: translateX(-50%);
		width: 100%;
		max-width: none;
		overflow: hidden;
		line-height: 0;
		z-index: 2;
	}

	.section-divider-top {
		top: -1px;
	}

	.section-divider-bottom {
		bottom: -1px;
		transform: translateX(-50%) rotate(180deg);
	}

	.section-divider svg {
		position: relative;
		display: block;
		width: 100%;
		height: 40px;
	}

	@media (min-width: 768px) {
		.section-divider svg {
			height: 60px;
		}
	}
</style>
