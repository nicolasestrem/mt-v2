---
export interface Props {
  title?: string;
  description?: string;
  image?: string;
  canonical?: string;
  noindex?: boolean;
  article?: {
    publishedTime?: string;
    modifiedTime?: string;
    author?: string;
  };
}

const {
  title = 'Mobility Trailblazers Nominierung 2026',
  description = 'Nominieren Sie jetzt Macherinnen und Macher der Mobilitätswende im DACH-Raum. Reichen Sie einen Vorschlag ein und erhalten Sie Neuigkeiten zum Award.',
  image = '/images/og-image.webp',
  canonical,
  noindex = false,
  article
} = Astro.props;

const siteUrl = 'https://mobilitytrailblazers.de';
const canonicalURL = canonical || new URL(Astro.url.pathname, siteUrl).toString();
const imageURL = new URL(image, siteUrl).toString();
---

<!-- Primary Meta Tags -->
<title>{title}</title>
<meta name="title" content={title} />
<meta name="description" content={description} />
<link rel="canonical" href={canonicalURL} />

{noindex && <meta name="robots" content="noindex, nofollow" />}

<!-- Open Graph / LinkedIn -->
<meta property="og:type" content={article ? 'article' : 'website'} />
<meta property="og:url" content={canonicalURL} />
<meta property="og:title" content={title} />
<meta property="og:description" content={description} />
<meta property="og:image" content={imageURL} />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:locale" content="de_DE" />
<meta property="og:site_name" content="Mobility Trailblazers" />

{article && (
  <>
    {article.publishedTime && <meta property="article:published_time" content={article.publishedTime} />}
    {article.modifiedTime && <meta property="article:modified_time" content={article.modifiedTime} />}
    {article.author && <meta property="article:author" content={article.author} />}
  </>
)}

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={imageURL} />

<!-- Hreflang for German language targeting -->
<link rel="alternate" hreflang="de-DE" href={canonicalURL} />
<link rel="alternate" hreflang="x-default" href={canonicalURL} />

<!-- Enhanced Structured Data with FAQPage, HowTo, and BreadcrumbList -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": `${siteUrl}/#website`,
      "url": siteUrl,
      "name": "Mobility Trailblazers",
      "alternateName": "MT Awards",
      "description": "Initiative zur Auszeichnung von 26 Vorreitern der Mobilitätswende im DACH-Raum für 2026",
      "inLanguage": "de-DE",
      "publisher": {
        "@id": `${siteUrl}/#organization`
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": `${siteUrl}/?s={search_term_string}`
        },
        "query-input": "required name=search_term_string"
      }
    },
    {
      "@type": "Organization",
      "@id": `${siteUrl}/#organization`,
      "name": "Mobility Trailblazers",
      "url": siteUrl,
      "logo": {
        "@type": "ImageObject",
        "url": `${siteUrl}/images/logo.webp`,
        "width": 512,
        "height": 512
      },
      "description": "Eine Initiative des Instituts für Mobilität der Universität St. Gallen zur Auszeichnung von 26 Vorreitern der Mobilitätswende für 2026.",
      "sameAs": [
        "https://www.linkedin.com/company/mobility-trailblazers"
      ],
      "contactPoint": [
        {
          "@type": "ContactPoint",
          "contactType": "customer service",
          "availableLanguage": ["German", "English"],
          "email": "kontakt@mobilitytrailblazers.de",
          "areaServed": ["DE", "CH", "AT"]
        }
      ],
      "foundingDate": "2025",
      "keywords": "Mobilitätswende, Verkehrswende, Nachhaltige Mobilität, DACH-Raum, Innovation, Pioniere"
    },
    {
      "@type": "Event",
      "@id": `${siteUrl}/#event-2026`,
      "name": "Mobility Trailblazers Awards 2026",
      "description": "Preisverleihung der 26 wichtigsten Vorreiter der Mobilitätswende im DACH-Raum für das Jahr 2026.",
      "startDate": "2026-10-30T16:00:00+02:00",
      "endDate": "2026-10-30T20:00:00+02:00",
      "eventStatus": "https://schema.org/EventScheduled",
      "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
      "location": {
        "@type": "Place",
        "name": "Berlin",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Berlin",
          "addressRegion": "Berlin",
          "addressCountry": "DE"
        }
      },
      "organizer": {
        "@id": `${siteUrl}/#organization`
      },
      "sponsor": [
        {
          "@type": "Organization",
          "name": "Institut für Mobilität der Universität St. Gallen",
          "url": "https://imo.unisg.ch"
        },
        {
          "@type": "Organization",
          "name": "Tomczak-Gross & Partners AG",
          "url": "https://tomczak-gross.com"
        },
        {
          "@type": "Organization",
          "name": "Handelsblatt",
          "url": "https://www.handelsblatt.com"
        }
      ],
      "offers": {
        "@type": "Offer",
        "name": "Nomination",
        "price": "0",
        "priceCurrency": "EUR",
        "availability": "https://schema.org/InStock",
        "validFrom": "2026-01-01",
        "validThrough": "2026-09-30",
        "url": `${siteUrl}/#nominierung`
      },
      "image": [
        `${siteUrl}/images/og-image.webp`
      ]
    },
    {
      "@type": "FAQPage",
      "@id": `${siteUrl}/#faq`,
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Wer darf nominieren?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Jede Person kann Kandidaten für die Mobility Trailblazers Awards nominieren. Selbstnominierungen sind ausdrücklich möglich und werden gleichwertig behandelt."
          }
        },
        {
          "@type": "Question",
          "name": "Kann ich mehrere Personen nominieren?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Ja, Sie können mehrere Personen nominieren. Bitte reichen Sie für jede nominierte Person eine separate Nominierung über das Formular ein."
          }
        },
        {
          "@type": "Question",
          "name": "Was passiert nach der Einreichung meiner Nominierung?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Nach der Einreichung prüft unser Team alle Vorschläge sorgfältig. Bei Rückfragen werden die nominierten Personen kontaktiert. Eine unabhängige Jury wählt 2026 die 26 Mobility Trailblazers aus. Details zum Zeitplan werden rechtzeitig veröffentlicht."
          }
        },
        {
          "@type": "Question",
          "name": "Welche Kriterien werden bei der Auswahl berücksichtigt?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Die Jury bewertet fünf Hauptkriterien: Mut & Pioniergeist, Innovationsgrad, Wirkung & Umsetzung, Relevanz für die Mobilitätswende sowie Vorbildfunktion & Persönlichkeit. Alle Kriterien werden gleichwertig in die Gesamtbewertung einbezogen."
          }
        },
        {
          "@type": "Question",
          "name": "Wer kann als Mobility Trailblazer nominiert werden?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Nominiert werden können Personen, die 2026 mit konkreten Projekten oder Initiativen den mobilen Wandel im DACH-Raum beschleunigen, durch Innovationskraft und Umsetzungskompetenz überzeugen und die Mobilitätswende aktiv gestalten – branchenunabhängig und hierarchiefrei."
          }
        }
      ]
    },
    {
      "@type": "HowTo",
      "@id": `${siteUrl}/#howto-nomination`,
      "name": "So nominieren Sie einen Mobility Trailblazer",
      "description": "Schritt-für-Schritt-Anleitung zur Nominierung von Vorreitern der Mobilitätswende für die Mobility Trailblazers Awards 2026",
      "totalTime": "PT10M",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Geeignete Person identifizieren",
          "text": "Identifizieren Sie eine Person, die 2026 mit konkreten Projekten oder Initiativen den mobilen Wandel im DACH-Raum vorantreibt und die Auswahlkriterien erfüllt.",
          "url": `${siteUrl}/#kriterien`
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Nominierungsformular ausfüllen",
          "text": "Füllen Sie das Online-Nominierungsformular mit allen erforderlichen Informationen zur vorgeschlagenen Person aus. Geben Sie konkrete Beispiele für deren Beitrag zur Mobilitätswende an.",
          "url": `${siteUrl}/#vorschlagen`
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Belege und Links hinzufügen",
          "text": "Ergänzen Sie Links zu relevanten Projekten, Medienberichte oder Projektbeschreibungen, die die Leistungen der nominierten Person dokumentieren.",
          "url": `${siteUrl}/#vorschlagen`
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Nominierung absenden",
          "text": "Überprüfen Sie alle Angaben und senden Sie die Nominierung ab. Sie erhalten eine Bestätigung per E-Mail.",
          "url": `${siteUrl}/#vorschlagen`
        }
      ]
    },
    {
      "@type": "BreadcrumbList",
      "@id": `${siteUrl}/#breadcrumb`,
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": siteUrl
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Über uns",
          "item": `${siteUrl}/#about`
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Auswahlkriterien",
          "item": `${siteUrl}/#kriterien`
        },
        {
          "@type": "ListItem",
          "position": 4,
          "name": "Jury",
          "item": `${siteUrl}/#jury`
        },
        {
          "@type": "ListItem",
          "position": 5,
          "name": "Nominierung",
          "item": `${siteUrl}/#vorschlagen`
        }
      ]
    }
  ]
})} />
</script>